"use strict";(self.webpackChunkionic_app_base=self.webpackChunkionic_app_base||[]).push([[442],{6435:function(e,s,a){a.d(s,{Z:function(){return c}});var n=a(885),t=a(5812),o=a(2926),r=a(2791),i=(a(4676),a(4432),a(184)),c=function(e){var s=e.filters,a=(0,r.useState)(!1),c=(0,n.Z)(a,2),l=c[0],d=c[1],u=(0,r.useState)(!1),g=(0,n.Z)(u,2),m=g[0],x=g[1],h=(0,r.useState)(!1),f=(0,n.Z)(h,2),j=f[0],p=f[1],v=function(e){var s=new Date(parseInt(e)),a=s.getFullYear(),n=("0"+(s.getMonth()+1)).slice(-2);return("0"+s.getDate()).slice(-2)+"/"+n+"/"+a},N=function(e){return new Date(parseInt(e)).toISOString()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.YG,{onClick:function(){return p(!j)},className:"button-date",children:[(0,i.jsx)(t.gu,{slot:"start",icon:o.filterOutline}),(0,i.jsx)(t.gu,{slot:"end",icon:j?o.chevronUpOutline:o.chevronDownOutline}),"Filtrar"]}),j?(0,i.jsxs)("div",{className:"gastos-filters",children:[s.setSearchText?(0,i.jsx)(t.VI,{value:s.searchText,onIonChange:function(e){return s.setSearchText(e.detail.value)},showCancelButton:"focus"}):(0,i.jsx)(i.Fragment,{children:" "}),s.setDesdeDate&&s.setHastaDate?(0,i.jsxs)("div",{className:"gastos-filters-fechas",children:[(0,i.jsxs)("div",{className:"gastos-filters-fechas-fecha",children:[(0,i.jsxs)(t.YG,{onClick:function(){return d(!0)},className:"button-date",children:[(0,i.jsx)(t.gu,{slot:"start",icon:o.calendarOutline})," Desde"]}),(0,i.jsx)("span",{children:v(s.desdeDate)}),(0,i.jsx)(t.ki,{isOpen:l,onDidDismiss:function(){return d(!1)},className:"calendarModal",children:(0,i.jsx)(t.W2,{forceOverscroll:!1,color:"transparent",children:(0,i.jsx)(t.x4,{value:N(s.desdeDate),onIonChange:function(e){s.setDesdeDate(new Date(e.detail.value).getTime())},presentation:"date",showDefaultButtons:"true",max:N(Date.now())})})})]}),(0,i.jsxs)("div",{className:"gastos-filters-fechas-fecha",children:[(0,i.jsxs)(t.YG,{onClick:function(){return x(!0)},className:"button-date",children:[(0,i.jsx)(t.gu,{slot:"start",icon:o.calendarOutline})," Hasta"]}),(0,i.jsx)("span",{children:v(s.hastaDate)}),(0,i.jsx)(t.ki,{isOpen:m,onDidDismiss:function(){return x(!1)},className:"calendarModal",children:(0,i.jsx)(t.W2,{forceOverscroll:!1,color:"transparent",children:(0,i.jsx)(t.x4,{value:N(s.hastaDate),onIonChange:function(e){s.setHastaDate(new Date(e.detail.value).getTime())},presentation:"date",showDefaultButtons:"true",max:N(Date.now())})})})]})]}):(0,i.jsx)(i.Fragment,{})]}):(0,i.jsx)(i.Fragment,{})]})}},3881:function(e,s,a){a.d(s,{Z:function(){return x}});var n=a(5812),t=a(1921),o=a(1171),r=a(2791),i=(a(4676),a(4432),a(885)),c=a(2926),l=a(6392),d=a(2299),u=a.n(d),g=a(184),m=function(e){var s=e.gastos,a=e.groupuid,d=(0,o.Z)(),m=(d.grupos,d.loadinggastos),x=(d.loadinggrupos,d.setError),h=d.error,f=d.success,j=d.setSuccess,p=d.deleteCategoria,v=(0,r.useState)(!1),N=(0,i.Z)(v,2),D=N[0],b=N[1],C=(0,r.useState)({}),S=(0,i.Z)(C,2),Z=S[0],w=(S[1],(0,r.useState)(5)),k=(0,i.Z)(w,2),y=k[0],F=k[1];function O(e){F(e?s.length<10?s.length:10:5)}return(0,g.jsxs)(g.Fragment,{children:[m?(0,g.jsx)(u(),{color:"blue",loading:!0,css:"display: block;margin: 0 auto",size:150}):(0,g.jsx)(g.Fragment,{children:s?(0,g.jsxs)("div",{className:"listgastos-component",children:[(0,g.jsx)("span",{className:"listgastos-component-title",children:"\xdaltimos gastos"}),(0,g.jsxs)("div",{className:"info-gastos-pagin",children:[(0,g.jsxs)("span",{className:"mostrando-text",children:["Mostrando"," ",s.length>5?y:s.length," ","de ",s.length," gastos."]}),(0,g.jsx)(n.XF,{routerLink:"/spendings/"+a,routerDirection:"forward",className:"boton-view",children:"Ver todos"})]}),(0,g.jsx)(n.q_,{className:"lista-gastos",children:s.length>0?s.sort((function(e,s){return e.fecha<s.fecha?1:-1})).slice(0,y).map((function(e,s){return(0,g.jsxs)("div",{className:"gasto-item",style:{borderColor:e.categoria.color},children:[(0,g.jsx)("div",{className:"gasto-name-username",children:e.profileData.name}),(0,g.jsx)("div",{className:"gasto-name-info",children:(0,g.jsx)("div",{className:"gasto-name-info-image",children:(0,g.jsx)("div",{className:"gasto-name-info-image-circle",style:{backgroundImage:'url("'+(e.profileData?e.profileData.image:l.tl.defaultAvatar)+'")'}})})}),(0,g.jsxs)("div",{className:"gasto-info",children:[(0,g.jsx)("div",{className:"gasto-info-desc",children:e.desc}),(0,g.jsx)("div",{className:"gasto-info-fecha",children:e.fechaConvert})]}),(0,g.jsxs)("div",{className:"gasto-cantidad",style:e.cantidad.length<7?{fontSize:"16px"}:{fontSize:"10px"},children:["- ",e.cantidad," \u20ac"]}),(0,g.jsx)("div",{className:"gasto-category",children:(0,g.jsx)("div",{className:"gasto-category-icon",children:(0,g.jsx)(t.Z,{name:e.categoria.icono,slot:"end",color:e.categoria.color})})}),(0,g.jsx)("div",{className:"gasto-options",slot:"end"})]},s)})):"Sin gastos"}),s&&5!=s.length?s.length!=y?s.length<=5?(0,g.jsx)(g.Fragment,{}):(0,g.jsx)(n.XF,{onClick:function(){return O(!0)},className:"boton-view",children:"Ver m\xe1s..."}):(0,g.jsx)(n.XF,{onClick:function(){return O(!1)},className:"boton-view",children:"Ver menos..."}):(0,g.jsx)(g.Fragment,{})]}):"Sin gastos"}),(0,g.jsx)(n.Px,{isOpen:f.status,onDidDismiss:function(){return j({status:!1,msg:""})},message:f.msg,icon:c.informationCircle,position:"top",duration:2e3,color:"success"}),(0,g.jsx)(n.Px,{isOpen:h.status,onDidDismiss:function(){return x({status:!1,msg:""})},message:h.msg,icon:c.informationCircle,position:"top",duration:2e3,color:"warning"}),(0,g.jsx)(n.Ge,{isOpen:D,onDidDismiss:function(){return b(!1)},header:"Eliminar Categor\xeda",message:"\xbfSeguro que quieres elimiar la categor\xeda</br><strong>"+Z.name+"</strong>?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",id:"cancel-button"},{text:"Elimiar",id:"confirm-button",handler:function(){p(s,Z)}}]})]})},x=function(e){var s=e.grupo;console.log("MCinfogrupo",s);var a=(0,o.Z)();a.grupos,a.loadinggrupos,a.exitGroup,a.checkAdmin,a.deleteGroup,a.setError,a.error,a.success,a.setSuccess;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"header-info-grupo",style:{backgroundColor:s.color},children:[(0,g.jsx)("span",{style:s.name?s.name.length<10?{fontSize:"30px"}:{fontSize:"20px"}:null,children:s.name}),s.isAdmin?(0,g.jsxs)(n.IJ,{className:"grupo-info-fab",children:[(0,g.jsx)(n.W4,{color:"success",className:"grupo-info-fab-first",children:(0,g.jsx)(t.Z,{name:"arrowBackOutline",color:"white"})}),(0,g.jsxs)(n.zq,{side:"start",className:"grupo-info-list",children:[(0,g.jsx)(n.W4,{color:"warning",className:"grupo-info-fab-button",children:(0,g.jsx)(t.Z,{name:"pencilOutline",color:"black"})}),(0,g.jsx)(n.XF,{routerLink:"/categories/"+s.docid,routerDirection:"forward",children:(0,g.jsx)(n.W4,{color:"secondary",className:"grupo-info-fab-button",children:(0,g.jsx)(t.Z,{name:"appsOutline",color:"black"})})})]})]}):(0,g.jsx)(g.Fragment,{})]}),s.gastos?(0,g.jsx)(m,{gastos:s.gastos,groupuid:s.docid}):(0,g.jsx)(g.Fragment,{})]})}},2587:function(e,s,a){a.r(s),a.d(s,{default:function(){return f}});var n=a(5812),t=(a(3881),a(1171)),o=a(2791),r=a(2299),i=a.n(r),c=(a(4676),a(4432),a(885)),l=a(1921),d=a(2436),u=a(2926),g=a(6392),m=a(6435),x=a(184),h=function(e){var s=e.gastos,a=e.grupo,r=(0,d.Z)().profile,h=(0,t.Z)(),f=h.loadinggastos,j=h.setError,p=h.error,v=h.success,N=h.setSuccess,D=h.deleteCategoria,b=(0,o.useState)(),C=(0,c.Z)(b,2),S=C[0],Z=C[1],w=(0,o.useState)(),k=(0,c.Z)(w,2),y=k[0],F=k[1],O=(0,o.useState)(!1),I=(0,c.Z)(O,2),z=I[0],E=I[1],G=(0,o.useState)({}),M=(0,c.Z)(G,2),T=M[0],q=(M[1],(0,o.useState)("")),_=(0,c.Z)(q,2),W=_[0],X=_[1];return(0,o.useEffect)((function(){var e=s.map((function(e){return parseInt(e.fecha)}));Z(Math.min.apply(Math,e)),F(Math.max.apply(Math,e))}),[s]),(0,x.jsxs)(x.Fragment,{children:[f?(0,x.jsx)(i(),{color:"blue",loading:!0,css:"display: block;margin: 0 auto",size:150}):(0,x.jsx)(x.Fragment,{children:s?(0,x.jsxs)("div",{className:"gastostotales-component",children:[(0,x.jsx)("span",{className:"gastostotales-component-title",children:a.name}),(0,x.jsx)(m.Z,{filters:{searchText:W,setSearchText:X,desdeDate:S,setDesdeDate:Z,hastaDate:y,setHastaDate:F}}),(0,x.jsx)("div",{className:"info-gastos-pagin"}),(0,x.jsx)(n.q_,{className:"lista-gastostotales",children:s.sort((function(e,s){return e.fecha<s.fecha?1:-1})).filter((function(e){return e.desc.toLowerCase().includes(W.toLowerCase())})).map((function(e,s){return(0,x.jsxs)("div",{className:"gasto-general-item",style:{borderColor:e.group.color},children:[(0,x.jsxs)("div",{className:"gasto-general-left",children:[(0,x.jsxs)("div",{className:"gasto-general-grupo",children:[(0,x.jsx)("div",{className:"gasto-general-grupo-icono",children:(0,x.jsx)(l.Z,{name:e.group.icono,slot:"end",color:e.group.color})}),(0,x.jsx)("div",{className:"gasto-general-grupo-name",children:e.group.name})]}),(0,x.jsx)("div",{className:"gasto-general-desc",children:e.desc}),(0,x.jsxs)("div",{className:"gasto-general-category",children:[(0,x.jsx)("div",{className:"gasto-general-category-name",children:e.categoria.name}),(0,x.jsx)("div",{className:"gasto-general-category-icono",children:(0,x.jsx)(l.Z,{name:e.categoria.icono,slot:"end",color:e.categoria.color})})]})]}),(0,x.jsxs)("div",{className:"gasto-general-right",children:[(0,x.jsxs)("div",{className:"gasto-general-userInfo",children:[(0,x.jsx)("div",{className:"gasto-general-userInfo-name",children:r.name}),(0,x.jsx)("div",{className:"gasto-general-userInfo-avatar",children:(0,x.jsx)("div",{className:"gasto-general-name-info-image-circle",style:{backgroundImage:'url("'+(r?r.image:g.tl.defaultAvatar)+'")'}})})]}),(0,x.jsx)("div",{className:"gasto-general-cantidad",children:(0,x.jsxs)("span",{style:e.cantidad.length<7?{fontSize:"25px"}:{fontSize:"12px"},children:["- ",e.cantidad," \u20ac"]})}),(0,x.jsx)("div",{className:"gasto-general-fecha",children:e.fechaConvert})]})]},s)}))})]}):"Sin gastos"}),(0,x.jsx)(n.Px,{isOpen:v.status,onDidDismiss:function(){return N({status:!1,msg:""})},message:v.msg,icon:u.informationCircle,position:"top",duration:2e3,color:"success"}),(0,x.jsx)(n.Px,{isOpen:p.status,onDidDismiss:function(){return j({status:!1,msg:""})},message:p.msg,icon:u.informationCircle,position:"top",duration:2e3,color:"warning"}),(0,x.jsx)(n.Ge,{isOpen:z,onDidDismiss:function(){return E(!1)},header:"Eliminar Categor\xeda",message:"\xbfSeguro que quieres elimiar la categor\xeda</br><strong>"+T.name+"</strong>?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",id:"cancel-button"},{text:"Elimiar",id:"confirm-button",handler:function(){D(s,T)}}]})]})},f=function(){var e=(0,t.Z)(),s=e.getGrupoGastosTotales,a=e.grupoTotal,r=e.loadinggrupos;return(0,o.useEffect)((function(){console.log("useeffect"),s(),console.log(a)}),[]),(0,x.jsx)(n._i,{children:(0,x.jsx)(n.W2,{fullscreen:!0,scrollX:"false",scrollY:"true",children:r?(0,x.jsx)(i(),{color:"blue",loading:!0,css:"display: block;margin: 0 auto",size:150}):a.gastos?(0,x.jsx)(h,{gastos:a.gastos,grupo:a}):"Sin gastos"})})}}}]);
//# sourceMappingURL=442.fde6758c.chunk.js.map